/* grips (c) 2012 Kyle Simpson | http://getify.mit-license.org/ */
;(function(){Object.keys||(Object.keys=function(t){var n,r=[];for(n in t)t.hasOwnProperty(n)&&r.push(n);return r}),function(t){function r(){function e(){}function i(){var e=t.grips;return t.grips=n,e}function s(e){e in c||(c[e]={collection:"",extend:null,partials:{}})}function o(e,t){s(e),c[e].extend=t}function u(t){var n,r,i;if(typeof t=="object"){if(t===null)return t;if(Object.prototype.toString.call(t)==="[object Array]"){r=[];for(n=0;n<t.length;n++)typeof t[n]=="object"?i=deepClone2(t[n]):i=t[n],r.push(i)}else{t instanceof e?r=new e:r={};for(n in t)t.hasOwnProperty(n)&&(typeof (t[n]==="object")?i=u(t[n]):i=t[n],r[n]=i)}}else r=t;return r}function a(e,t,n){var r=t.match(/^(.+)#/);r&&(r=r[1]);if(!r)throw h;s(r),c[r].partials[t.replace(/^.*#/,"#")]=function(){var n,r;try{r=e.apply(l,arguments)}catch(i){throw h}if(r instanceof Error)throw r;return r}}function f(e,t,n){if(!e)return"";var r,i,s,o,u=[],a=!1,f=!1;r=e.match(/^(.+)#/),r&&(r=r[1],a=!0);if(!a&&p.length>0)r=p[p.length-1];else if(!a||p.length>0&&p[p.length-1]===r){if(!r)throw h}else p.push(r),f=!0;if(r in c){e=e.replace(/^(.+)#/,"#"),o=r+e,d.push(o);for(s=0;s<d.length-1;s++)if(d[s]===o)throw h;a?u.push(r):u=u.concat(p);if(!(e in c[r].partials)&&c[r].extend){o=c[r].extend;while(o&&o in c)u.push(o),o=c[o].extend}for(s=0;s<u.length;s++)if(e in c[u[s]].partials){i=c[u[s]].partials[e](t,n);break}}if(i)return d.pop(),f&&p.pop(),i;throw h}var l,c={},h=new Error("Unknown error"),p=[],d=[];return l={extend:o,cloneObj:u,definePartial:a,render:f,noConflict:i,sandbox:r,RangeLiteralHash:e},l}var n=t.grips;t.grips=r()}(this);var t=this.grips;typeof define=="function"&&define.amd&&define(t)}).call({});